!function(){function t(t,i,s,n,e,r,c,o,h){this.btcAddress=t,this.btcAmount=i,this.btcLabel=s,this.btcMessage=n,this.icsSummary=e,this.icsDescription=r,this.icsStart=c,this.icsFreq=o,this.icsCount=h}t.prototype.bitcoinURI=function(){var t=new Array;return t.push(this.btcAmount?"amount="+this.btcAmount:void 0),t.push(this.btcLabel?"label="+encodeURIComponent(this.btcLabel):void 0),t.push(this.btcMessage?"message="+encodeURIComponent(this.btcMessage):void 0),"bitcoin:"+this.btcAddress+(this.btcAmount||this.btcLabel||this.btcMessage?"?":"")+t.filter(function(t){return void 0!=t}).join("&")},t.prototype.rrule=function(){var t=new Array;return t.push(this.icsFreq?"FREQ="+this.icsFreq:void 0),t.push(this.icsCount?"COUNT="+this.icsCount:void 0),t.filter(function(t){return void 0!=t}).join(";")},t.prototype.ics=function(){return"BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:github.com/MiceEatCheese/Peanuts.js\r\nBEGIN:VEVENT\r\nSUMMARY:"+this.icsSummary+"\r\nDESCRIPTION:"+this.icsDescription+"\r\nURL:"+this.bitcoinURI()+"\r\nDTSTART:"+this.icsStart+"\r\nRRULE:"+this.rrule()+"\r\nEND:VEVENT\r\nEND:VCALENDAR"},window.Peanuts=t}();
